<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English â†’ Kannada Translator | Instant Translation & Audio</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <div class="logo">ğŸŒ Kannada Translator</div>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#translator">Translator</a></li>
        <li><a href="#features">Features</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <div class="container">
      <h1 class="hero-title">English to Kannada Translator</h1>
      <p class="hero-subtitle">Break language barriers with instant, accurate translations</p>
      <button class="cta-button" onclick="document.getElementById('translator').scrollIntoView({behavior: 'smooth'})">
        Start Translating â†’
      </button>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features" id="features">
    <div class="container">
      <h2>Why Choose Our Translator?</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-icon">âš¡</div>
          <h3>Instant Translation</h3>
          <p>Get real-time translations as you type with advanced AI technology</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ”Š</div>
          <h3>Audio Output</h3>
          <p>Listen to accurate pronunciation with high-quality text-to-speech</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ“±</div>
          <h3>Mobile Friendly</h3>
          <p>Works seamlessly on all devices - desktop, tablet, and mobile</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ¯</div>
          <h3>Accurate</h3>
          <p>Powered by multiple translation engines for maximum accuracy</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Translator Section -->
  <section class="translator-section" id="translator">
    <div class="container">
      <h2>Translate Now</h2>
      <form method="post" class="translator-form">
        <div class="input-group">
          <label for="text">Enter English Text:</label>
          <textarea 
            id="text" 
            name="text" 
            rows="6" 
            placeholder="Enter English text to translate..." 
            class="input-textarea">{{ src }}</textarea>
        </div>
        <button type="submit" class="translate-button">Translate to Kannada</button>
      </form>

      {% if result %}
      <div class="translation-result">
        <div class="result-header">
          <h3>Translation Result</h3>
          <span class="engine-badge">Engine: {{ used }}</span>
        </div>
        
        <div class="result-content">
          <div class="original-text">
            <p class="label">English:</p>
            <p class="text">{{ src }}</p>
          </div>
          <div class="arrow">â†“</div>
          <div class="translated-text">
            <p class="label">Kannada (à²•à²¨à³à²¨à²¡):</p>
            <p class="text kannada">{{ result }}</p>
          </div>
        </div>

        <div id="translation" data-text="{{ result | e }}"></div>
        
        <div class="audio-section">
          <p class="audio-label">ğŸ“¢ Listen to Pronunciation:</p>
          <div class="audio-controls">
            <audio id="player" controls class="audio-player"></audio>
            <a id="download-link" class="download-btn" href="#">â¬‡ Download MP3</a>
          </div>
        </div>
      </div>

      <script>
        (function(){
          var el = document.getElementById('translation');
          if(!el) return;
          var text = el.dataset.text || '';
          var src = '{{ url_for("audio") }}' + '?text=' + encodeURIComponent(text);
          var player = document.getElementById('player');
          var link = document.getElementById('download-link');
          if(player) player.src = src;
          if(link) { link.href = src; link.setAttribute('download', 'translation.mp3'); }
        })();
      </script>
      {% endif %}
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2026 English to Kannada Translator. All rights reserved.</p>
      <p class="tip">ğŸ’¡ Tip: This translator uses advanced AI and fallback dictionaries for accurate translations</p>
    </div>
  </footer>

  <script>
    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if(target) target.scrollIntoView({behavior: 'smooth'});
      });
    });
  </script>
</body>
</html>
